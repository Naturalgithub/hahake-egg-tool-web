import{l as _,m as b}from"./ns-107a6c9a.js";import{_ as f}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-ad82a428.js";import{c as h}from"./dict-b24c12c9.js";import{d as c,j as v,r as g,o as w,c as x,e as a,i as n,g as C,t as y,u as V,F as k,E as s}from"./index-61c1a13e.js";import"./message-532cbf74.js";const I={class:"table-box main"},T=c({name:"white"}),N=c({...T,setup(B){const o=v(),i=[{prop:"deviceId",label:"deviceId",search:{el:"input"},render:e=>a(k,null,[e.row.deviceId])},{prop:"enable",label:"enable",fixed:"right",enum:h,search:{el:"select",props:{filterable:!0}}}],d={type:1},m=e=>({list:e.records,total:e.total}),p=async e=>{try{await b({enable:e.enable,deviceId:e.deviceId}),s.success("操作成功")}catch(r){s.error(r)}finally{o.value.getTableList()}};return(e,r)=>{const u=g("el-switch");return w(),x("div",I,[a(f,{ref_key:"proTable",ref:o,title:"白名单列表",columns:i,"highlight-current-row":"",rowKey:"id",requestApi:V(_),initParam:d,dataCallback:m},{expand:n(t=>[C(y(t.row),1)]),enable:n(t=>[a(u,{onChange:l=>p(t.row),modelValue:t.row.enable,"onUpdate:modelValue":l=>t.row.enable=l,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否"},null,8,["onChange","modelValue","onUpdate:modelValue"])]),_:1},8,["requestApi"])])}}});export{N as default};
